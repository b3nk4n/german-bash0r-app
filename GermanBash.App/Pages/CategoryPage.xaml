<phone:PhoneApplicationPage
    x:Class="GermanBash.App.Pages.CategoryPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:phone="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone"
    xmlns:shell="clr-namespace:Microsoft.Phone.Shell;assembly=Microsoft.Phone"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity"
    xmlns:abu="clr-namespace:AppBarUtils;assembly=AppBarUtils"
    xmlns:toolkit="clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone.Controls.Toolkit"
    xmlns:conv="clr-namespace:PhoneKit.Framework.Conversion;assembly=PhoneKit.Framework"
    xmlns:lconv="clr-namespace:GermanBash.Common.Conversion;assembly=GermanBash.Common"
    FontFamily="{StaticResource PhoneFontFamilyNormal}"
    FontSize="{StaticResource PhoneFontSizeNormal}"
    Foreground="{StaticResource ThemeBrushGray}"
    SupportedOrientations="Portrait" Orientation="Portrait"
    mc:Ignorable="d"
    d:DataContext="{d:DesignData SampleData/CategoryViewModelSampleData.xaml}"
    x:Name="RootElement">

    <toolkit:TransitionService.NavigationInTransition>
        <toolkit:NavigationInTransition>
            <toolkit:NavigationInTransition.Backward>
                <toolkit:TurnstileTransition Mode="BackwardIn"/>
            </toolkit:NavigationInTransition.Backward>
            <toolkit:NavigationInTransition.Forward>
                <toolkit:TurnstileTransition Mode="ForwardIn"/>
            </toolkit:NavigationInTransition.Forward>
        </toolkit:NavigationInTransition>
    </toolkit:TransitionService.NavigationInTransition>
    <toolkit:TransitionService.NavigationOutTransition>
        <toolkit:NavigationOutTransition>
            <toolkit:NavigationOutTransition.Backward>
                <toolkit:TurnstileTransition Mode="BackwardOut"/>
            </toolkit:NavigationOutTransition.Backward>
            <toolkit:NavigationOutTransition.Forward>
                <toolkit:TurnstileTransition Mode="ForwardOut"/>
            </toolkit:NavigationOutTransition.Forward>
        </toolkit:NavigationOutTransition>
    </toolkit:TransitionService.NavigationOutTransition>

    <phone:PhoneApplicationPage.Resources>
        <lconv:IntToColorConverter x:Key="IntToColorConverter" />
        <lconv:IndexToVisibilityConverter x:Key="IndexToVisbilityConverter" />
        <lconv:IndexToThicknessConverter x:Key="IndexToThicknessConverter" />
        <lconv:PositivePlusConverter x:Key="PositivePlusConverter" />
        <conv:BooleanToVisibilityConverter x:Key="BoolToVisibilityConverter" />
        
        <Storyboard x:Name="ShowShareBar">
        	<DoubleAnimation Duration="0:0:0.7" To="0" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="ShareContainer" d:IsOptimized="True">
        		<DoubleAnimation.EasingFunction>
        			<BackEase EasingMode="EaseOut" Amplitude="0.2"/>
        		</DoubleAnimation.EasingFunction>
        	</DoubleAnimation>
            <DoubleAnimationUsingKeyFrames BeginTime="0:0:0.1" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="hubTile">
                <EasingDoubleKeyFrame KeyTime="0:0:0.66" Value="0">
        			<EasingDoubleKeyFrame.EasingFunction>
                        <BackEase EasingMode="EaseOut" Amplitude="0.2"/>
        			</EasingDoubleKeyFrame.EasingFunction>
        		</EasingDoubleKeyFrame>
        	</DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames BeginTime="0:0:0.2" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="hubTile1">
        		<EasingDoubleKeyFrame KeyTime="0:0:0.66" Value="0">
        			<EasingDoubleKeyFrame.EasingFunction>
                        <BackEase EasingMode="EaseOut" Amplitude="0.2"/>
        			</EasingDoubleKeyFrame.EasingFunction>
        		</EasingDoubleKeyFrame>
        	</DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames BeginTime="0:0:0.3" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="hubTile2">
        		<EasingDoubleKeyFrame KeyTime="0:0:0.66" Value="0">
        			<EasingDoubleKeyFrame.EasingFunction>
                        <BackEase EasingMode="EaseOut" Amplitude="0.2"/>
        			</EasingDoubleKeyFrame.EasingFunction>
        		</EasingDoubleKeyFrame>
        	</DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames BeginTime="0:0:0.4" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="hubTile3">
                <EasingDoubleKeyFrame KeyTime="0:0:0.66" Value="0">
                	<EasingDoubleKeyFrame.EasingFunction>
                        <BackEase EasingMode="EaseOut" Amplitude="0.2"/>
                	</EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>

        <Storyboard x:Name="HideShareBar">
            <DoubleAnimation BeginTime="0:0:0.4" Duration="0:0:0.7" To="400" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="ShareContainer" d:IsOptimized="True">
                <DoubleAnimation.EasingFunction>
                    <BackEase EasingMode="EaseOut" Amplitude="0.2"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimationUsingKeyFrames BeginTime="0:0:0.1" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="hubTile">
                <EasingDoubleKeyFrame KeyTime="0:0:0.66" Value="200">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <BackEase EasingMode="EaseOut" Amplitude="0.2"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames BeginTime="0:0:0.2" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="hubTile1">
                <EasingDoubleKeyFrame KeyTime="0:0:0.66" Value="200">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <BackEase EasingMode="EaseOut" Amplitude="0.2"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames BeginTime="0:0:0.3" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="hubTile2">
                <EasingDoubleKeyFrame KeyTime="0:0:0.66" Value="200">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <BackEase EasingMode="EaseOut" Amplitude="0.2"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames BeginTime="0:0:0.4" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="hubTile3">
                <EasingDoubleKeyFrame KeyTime="0:0:0.66" Value="200">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <BackEase EasingMode="EaseOut" Amplitude="0.2"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>

        <Storyboard x:Name="ShowJumpBar">
            <DoubleAnimation Duration="0:0:0.7" To="0" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="JumpContainer" d:IsOptimized="True">
                <DoubleAnimation.EasingFunction>
                    <BackEase EasingMode="EaseOut" Amplitude="0.2"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimationUsingKeyFrames BeginTime="0:0:0.1" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="phoneTextBox">
                <EasingDoubleKeyFrame KeyTime="0:0:0.66" Value="0">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <BackEase EasingMode="EaseOut" Amplitude="0.2"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames BeginTime="0:0:0.2" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="button">
                <EasingDoubleKeyFrame KeyTime="0:0:0.66" Value="0">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <BackEase EasingMode="EaseOut" Amplitude="0.2"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>

        <Storyboard x:Name="HideJumpBar">
            <DoubleAnimation Duration="0:0:0.7" To="400" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="JumpContainer" d:IsOptimized="True">
                <DoubleAnimation.EasingFunction>
                    <BackEase EasingMode="EaseOut" Amplitude="0.2"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimationUsingKeyFrames BeginTime="0:0:0.1" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="phoneTextBox">
                <EasingDoubleKeyFrame KeyTime="0:0:0.66" Value="200">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <BackEase EasingMode="EaseOut" Amplitude="0.2"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames BeginTime="0:0:0.2" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="button">
                <EasingDoubleKeyFrame KeyTime="0:0:0.66" Value="200">
                    <EasingDoubleKeyFrame.EasingFunction>
                        <BackEase EasingMode="EaseOut" Amplitude="0.2"/>
                    </EasingDoubleKeyFrame.EasingFunction>
                </EasingDoubleKeyFrame>
            </DoubleAnimationUsingKeyFrames>
        </Storyboard>
        
        <Storyboard x:Name="ShowBashInfoBar">
            <DoubleAnimationUsingKeyFrames BeginTime="0:0:1" Storyboard.TargetProperty="(UIElement.Projection).(PlaneProjection.LocalOffsetY)" Storyboard.TargetName="grid">
        		<EasingDoubleKeyFrame KeyTime="0" Value="-100"/>
        		<EasingDoubleKeyFrame KeyTime="0:0:0.66" Value="0">
        			<EasingDoubleKeyFrame.EasingFunction>
        				<BackEase EasingMode="EaseOut" Amplitude="0.2"/>
        			</EasingDoubleKeyFrame.EasingFunction>
        		</EasingDoubleKeyFrame>
        	</DoubleAnimationUsingKeyFrames>
        </Storyboard>

    </phone:PhoneApplicationPage.Resources>

    <!--LayoutRoot ist das Stammraster, in dem alle anderen Seiteninhalte platziert werden-->
    <Grid x:Name="LayoutRoot" Background="{StaticResource ThemeBrushGray}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!--ContentPanel - zusätzliche Inhalte hier platzieren-->
        <Grid x:Name="ContentPanel" Grid.Row="1" Tap="HideBarsTapHandler"
               Margin="0,0,0,72">
            <Grid.RowDefinitions>
                <RowDefinition Height="28" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <Grid x:Name="grid"
                  Visibility="{Binding IsBusy, Converter={StaticResource BoolToVisibilityConverter}, ConverterParameter=!}">
            	<Grid.Projection>
            		<PlaneProjection LocalOffsetY="-100"/>
            	</Grid.Projection>
                <TextBlock DataContext="{Binding CurrentBashData}" Text="{Binding ShortTimestamp}" HorizontalAlignment="Right"  Style="{StaticResource ThemeTextSubtleStyle}"/>

                <TextBlock HorizontalAlignment="Center" Style="{StaticResource ThemeTextSubtleStyle}">
                        <Run Text="{Binding BashNumber}" />    
                        <Run Text="/" />
                        <Run Text="{Binding BashCount}" />
                </TextBlock>

                <TextBlock DataContext="{Binding CurrentBashData}" HorizontalAlignment="Left" Style="{StaticResource ThemeTextSubtleStyle}">
                        <Run Text="#" />
                        <Run Text="{Binding Id}" />
                </TextBlock>
            </Grid>
            
            <!-- fav info -->
            <Grid Grid.RowSpan="2" Background="{StaticResource ThemeBrushGray}"
                  Visibility="{Binding ShowFavoritesInfo, Converter={StaticResource BoolToVisibilityConverter}}">
                <StackPanel VerticalAlignment="Center">
                    <Path Width="128" Height="110" Stretch="Fill" Fill="{StaticResource ThemeBrushGrayDark}" Data="F1 M 52.2716,27.8072C 61.5832,37.9485 41.6554,52.5246 38.0438,54.1634L 38.0438,54.2109L 37.9599,54.1634C 34.3451,52.5246 14.4142,37.9485 23.7257,27.8072C 26.6898,24.5794 31.7394,25.1049 36.3474,29.4807L 34,42L 38,40.5L 38,54L 43,35.5L 39,37L 41.4683,27.9496C 45.2405,25.2689 49.7584,25.0626 52.2716,27.8072 Z "
                      Margin="12"/>
                    <TextBlock Text="{Binding Path=LocalizedResources.FavoritesInfo, Source={StaticResource LocalizedStrings}}" TextWrapping="Wrap" Width="300" Style="{StaticResource ThemeTextSubtleStyle}" TextAlignment="Center" />
                </StackPanel>
            </Grid>

            <!-- no search results info -->
            <Grid Grid.RowSpan="2" Background="{StaticResource ThemeBrushGray}"
                  Visibility="{Binding ShowSearchNoResultsInfo, Converter={StaticResource BoolToVisibilityConverter}}">
                <StackPanel VerticalAlignment="Center">
                    <Grid HorizontalAlignment="Center">
                        <Path Width="100" Height="100" Stretch="Fill" Margin="30,-10,0,70" Opacity="0.5" Fill="{StaticResource ThemeBrushGrayDark}" Data="F1 M 57,19L 57,26L 50,26L 50,19L 57,19 Z M 48,19L 48,26L 41,26L 41,19L 48,19 Z M 39,19L 39,26L 32,26L 32,19L 39,19 Z M 57,28L 57,35L 50,35L 50,28L 57,28 Z M 48,28L 48,35L 41,35L 41,28L 48,28 Z M 39,28L 39,35L 32,35L 32,28L 39,28 Z M 57,37L 57,44L 50,44L 50,37L 57,37 Z M 48,37L 48,44L 41,44L 41,37L 48,37 Z M 39,37L 39,44L 32,44L 32,37L 39,37 Z "/>
                        <Path Width="120" Height="120" Stretch="Fill" Margin="0,0,30,0" Fill="{StaticResource ThemeBrushGrayDark}" Data="F1 M 23.6506,56.2021C 22.5867,57.266 20.8618,57.266 19.7979,56.2021C 18.734,55.1382 18.734,53.4133 19.7979,52.3494L 27.6722,44.4751C 26.6112,42.7338 26,40.6883 26,38.5C 26,32.1487 31.1487,27 37.5,27C 43.8513,27 49,32.1487 49,38.5C 49,44.8513 43.8513,50 37.5,50C 35.3117,50 33.2662,49.3888 31.5249,48.3278L 23.6506,56.2021 Z M 37.5,31C 33.3579,31 30,34.3579 30,38.5C 30,42.6421 33.3579,46 37.5,46C 41.6421,46 45,42.6421 45,38.5C 45,34.3579 41.6421,31 37.5,31 Z "/>
                    </Grid>
                    <TextBlock Text="{Binding Path=LocalizedResources.SearchNoResultsInfo, Source={StaticResource LocalizedStrings}}" TextWrapping="Wrap" Width="300" Style="{StaticResource ThemeTextSubtleStyle}" TextAlignment="Center" />
                </StackPanel>
            </Grid>
            
            <!-- no data/internet info -->
            <Grid Grid.RowSpan="2" Background="{StaticResource ThemeBrushGray}"
                  Visibility="{Binding ShowLoadingFailedInfo, Converter={StaticResource BoolToVisibilityConverter}}"> 
                <StackPanel VerticalAlignment="Center">
                    <Path Width="120" Height="90" Stretch="Fill" Fill="{StaticResource ThemeBrushGrayDark}" Data="F1 M 27.0038,27.0038L 30.0042,27.0038L 30.0042,30.0042L 33.0046,30.0042L 33.0046,33.0046L 43.006,33.0046L 43.006,30.0042L 46.0064,30.0042L 46.0064,27.0038L 49.0068,27.0038L 49.0068,30.0042L 46.0064,30.0042L 46.0064,33.0046L 49.0068,33.0046L 49.0068,36.005L 52.0073,36.005L 52.0073,40.0056L 49.0068,40.0056L 49.0068,49.0068L 46.0064,49.0068L 46.0064,52.0073L 40.0056,52.0073L 40.0056,49.0068L 46.0064,49.0068L 46.0064,44.0061L 30.0042,44.0061L 30.0042,49.0068L 27.0038,49.0068L 27.0038,40.0056L 24.0033,40.0056L 24.0033,46.0064L 20.0028,46.0064L 20.0028,40.0056L 24.0033,40.0056L 24.0033,36.005L 27.0038,36.005L 27.0038,33.0046L 30.0042,33.0046L 30.0042,30.0042L 27.0038,30.0042L 27.0038,27.0038 Z M 52.0073,40.0056L 56.0078,40.0056L 56.0078,46.0064L 52.0073,46.0064L 52.0073,40.0056 Z M 30.0042,49.0068L 36.005,49.0068L 36.005,52.0073L 30.0042,52.0073L 30.0042,49.0068 Z M 30.0042,36.005L 30.0042,40.0056L 34.0047,40.0056L 34.0047,36.005L 30.0042,36.005 Z M 42.0059,36.005L 42.0059,40.0056L 46.0064,40.0056L 46.0064,36.005L 42.0059,36.005 Z "/>
                    <TextBlock Text="{Binding Path=LocalizedResources.NoDataOrInternetInfo, Source={StaticResource LocalizedStrings}}" TextWrapping="Wrap" Width="300" Style="{StaticResource ThemeTextSubtleStyle}" TextAlignment="Center" />
                </StackPanel>
            </Grid>

            <ScrollViewer x:Name="QuotesScroller" Grid.Row="1" Padding="0,8,0,12" toolkit:TurnstileFeatherEffect.FeatheringIndex="2" >
                <ItemsControl DataContext="{Binding CurrentBashData}" ItemsSource="{Binding QuoteItems}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Grid x:Name="ContainerGrid" Opacity="0" Loaded="QuoteItemLoaded" Tag="{Binding IndexPosition}">
                                <Grid.Resources>
                                    <Storyboard x:Name="FadeInLeftToRight">
                                        <DoubleAnimationUsingKeyFrames BeginTime="0:0:0.25" Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="ContainerGrid">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="0.01"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="1"/>
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames BeginTime="0:0:0.25" Duration="0:0:0.5" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="ContainerGrid" d:IsOptimized="True">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="-480" />
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="0">
                                                <EasingDoubleKeyFrame.EasingFunction>
                                                    <BackEase EasingMode="EaseOut" Amplitude="0.2"/>
                                                </EasingDoubleKeyFrame.EasingFunction>
                                            </EasingDoubleKeyFrame>
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                    <Storyboard x:Name="FadeInRightToLeft">
                                        <DoubleAnimationUsingKeyFrames BeginTime="0:0:0.25" Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="ContainerGrid">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="0.01"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="1"/>
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames BeginTime="0:0:0.25" Duration="0:0:0.5" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)" Storyboard.TargetName="ContainerGrid" d:IsOptimized="True">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="480" />
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="0">
                                                <EasingDoubleKeyFrame.EasingFunction>
                                                    <BackEase EasingMode="EaseOut" Amplitude="0.2"/>
                                                </EasingDoubleKeyFrame.EasingFunction>
                                            </EasingDoubleKeyFrame>
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                    <Storyboard x:Name="FadeInUp">
                                        <DoubleAnimationUsingKeyFrames BeginTime="0:0:0.25" Storyboard.TargetProperty="(UIElement.Opacity)" Storyboard.TargetName="ContainerGrid">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="0.01"/>
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="1"/>
                                        </DoubleAnimationUsingKeyFrames>
                                        <DoubleAnimationUsingKeyFrames BeginTime="0:0:0.25" Duration="0:0:0.5" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)" Storyboard.TargetName="ContainerGrid" d:IsOptimized="True">
                                            <EasingDoubleKeyFrame KeyTime="0" Value="200" />
                                            <EasingDoubleKeyFrame KeyTime="0:0:0.5" Value="0">
                                                <EasingDoubleKeyFrame.EasingFunction>
                                                    <BackEase EasingMode="EaseOut" Amplitude="0.2"/>
                                                </EasingDoubleKeyFrame.EasingFunction>
                                            </EasingDoubleKeyFrame>
                                        </DoubleAnimationUsingKeyFrames>
                                    </Storyboard>
                                </Grid.Resources>
                                <Grid.RenderTransform>
                                    <CompositeTransform />
                                </Grid.RenderTransform>
                                <toolkit:ContextMenuService.ContextMenu>
                                    <toolkit:ContextMenu>
                                        <toolkit:MenuItem Header="{Binding Path=LocalizedResources.Copy, Source={StaticResource LocalizedStrings}}" Command="{Binding CopyPartToClipboardCommand}" Click="CopyClicked" Tag="{Binding Text}" />
                                    </toolkit:ContextMenu>
                                </toolkit:ContextMenuService.ContextMenu>
                                <!-- normal -->
                                <Border HorizontalAlignment="Left" Margin="{Binding PersonIndex, Converter={StaticResource IndexToThicknessConverter}}"
                                    Visibility="{Binding PersonIndex, Converter={StaticResource IndexToVisbilityConverter}, ConverterParameter=not-server-only}">
                                    <StackPanel Orientation="Horizontal">
                                        <Path Margin="12,0,-8,12" Width="20" Height="20" Data="M 0,20 20,0, 20,20 Z" Fill="{Binding PersonIndex, Converter={StaticResource IntToColorConverter}}" Visibility="{Binding PersonIndex, Converter={StaticResource IndexToVisbilityConverter}}"
                                            VerticalAlignment="Bottom"/>
                                        <Border Margin="6" Width="364" Background="{Binding PersonIndex, Converter={StaticResource IntToColorConverter}}">
                                            <StackPanel Margin="0,6,0,6">
                                                <TextBlock Text="{Binding Text}" TextWrapping="Wrap" Style="{StaticResource ThemeTextNormalStyle}" />
                                                <TextBlock Text="{Binding Nick}" TextTrimming="WordEllipsis" HorizontalAlignment="Right" Style="{StaticResource ThemeTextSubtleStyle}" Foreground="{StaticResource ThemeBrushGrayMedium}" />
                                            </StackPanel>
                                        </Border>
                                        <Path Margin="-8,0,0,12" Width="20" Height="20" Data="M 20,20 0,0, 0,20 Z" Fill="{Binding PersonIndex, Converter={StaticResource IntToColorConverter}}" Visibility="{Binding PersonIndex, Converter={StaticResource IndexToVisbilityConverter}, ConverterParameter=not}"
                                            VerticalAlignment="Bottom"/>
                                    </StackPanel>
                                </Border>
                                <!-- server -->
                                <Border Margin="10,6,10,6" Width="460" Background="{StaticResource ThemeBrushGrayDark}"
                                    Visibility="{Binding PersonIndex, Converter={StaticResource IndexToVisbilityConverter}, ConverterParameter=server-only}">
                                    <StackPanel Margin="6">
                                        <TextBlock Text="{Binding Text}" TextWrapping="Wrap" TextAlignment="Center" VerticalAlignment="Center" Foreground="{StaticResource ThemeBrushGray}" />
                                    </StackPanel>
                                </Border>
                            </Grid>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </Grid>

        <!--TitlePanel enthält den Namen der Anwendung und den Seitentitel-->
        <StackPanel>
            <Grid Grid.Row="0" Background="{StaticResource ThemeBrushGrayDark}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <!-- row0 -->
                <TextBlock x:Name="PageTitle" Text="Title" Style="{StaticResource ThemeTextTitleStyle}" HorizontalAlignment="Center"/>
                <!-- row1 -->
                <StackPanel Grid.Row="1" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Center">
                    <Button Template="{StaticResource RoundButtonTemplate}" Width="52" Height="52" Background="{StaticResource ThemeBrushGray}"
                            Command="{Binding RateNegativeCommand}">
                        <Path Width="22" Height="24" Stretch="Fill" Margin="0,0,0,2" Fill="{StaticResource ThemeBrushGrayDark}" Data="F1 M 22.1667,50.6667L 42.75,50.6667L 42.75,55.4167L 22.1667,55.4167L 22.1667,50.6667 Z M 27.4442,32.1942C 29.0275,31.6667 29.9034,32.0635 30.2694,31.4088C 30.6353,30.7542 31.1527,30.0924 31.8217,29.4234C 32.4907,28.7545 33.2997,28.0712 34.2488,27.3737L 37.4392,25.281C 38.2626,24.7836 39.0173,24.1818 39.7034,23.4757C 40.3895,22.7696 40.997,22.042 41.5259,21.293C 42.0548,20.544 42.4936,19.8121 42.8424,19.0974L 43.5799,17.2707C 43.8429,16.3044 44.2117,15.5983 44.6863,15.1523C 45.1608,14.7063 45.6297,14.4833 46.0928,14.4833C 46.5388,14.4833 46.9276,14.662 47.2592,15.0194C 47.5908,15.3767 47.7738,15.8784 47.8081,16.5245L 47.8338,17.0048L 47.8338,17.4851C 47.8338,18.6629 47.7095,19.8064 47.4607,20.9156C 47.212,22.0248 46.8361,22.9082 46.3329,23.5657L 45.411,24.9208L 44.4633,26.4388L 43.3912,28.1798L 48.5628,28.7116L 50.7069,28.9431L 52.821,29.1833L 54.7249,29.4105L 56.2301,29.6035C 56.636,29.655 56.9605,29.908 57.2035,30.3625C 57.4465,30.8171 57.568,31.3302 57.568,31.902L 57.4865,32.7082L 57.1906,33.4886L 56.9248,34.0204L 56.5345,34.8137L 56.1443,35.6327L 55.9042,36.2502L 55.7455,36.9964L 55.5826,38.0813L 55.4196,39.2091L 55.261,40.0238L 54.8193,41.1645L 54.2318,42.0779L 53.6272,42.854L 53.1426,43.5916L 52.7695,44.6079L 52.5165,45.4655L 52.2335,46.2546L 51.8047,47.0479L 51.5131,47.451L 50.5825,48.7503L 49.6048,49.8738C 49.2646,50.2026 48.8987,50.4656 48.5071,50.6628C 48.1154,50.8601 47.6766,50.9587 47.1906,50.9587L 46.4702,50.9587L 44.3333,50.9587L 44.3333,49.0833L 26.9615,49.0833L 27.4442,32.1942 Z M 19,50.9587L 19,32.1942L 25.4323,32.164L 25.4323,49.0833L 20.5833,49.0833L 20.5833,50.9587L 19,50.9587 Z ">
                            <Path.RenderTransform>
                                <CompositeTransform ScaleY="-1" CenterY="13" />
                            </Path.RenderTransform>
                        </Path>
                    </Button>
                    <TextBlock DataContext="{Binding CurrentBashData}" Text="{Binding Rating, Converter={StaticResource PositivePlusConverter}}" VerticalAlignment="Center" MinWidth="86" TextAlignment="Center" Style="{StaticResource ThemeTextNormalStyle}" Margin="0" />
                    <Button  Template="{StaticResource RoundButtonTemplate}" Width="52" Height="52" Background="{StaticResource ThemeBrushGray}"
                            Command="{Binding RatePositiveCommand}">
                        <Path Width="22" Height="28" Stretch="Fill" Fill="{StaticResource ThemeBrushGrayDark}" Data="F1 M 30.0833,42.75L 34.8333,42.75L 34.8333,50.6667L 42.75,50.6667L 42.75,55.4167L 34.8333,55.4167L 34.8333,63.3333L 30.0833,63.3333L 30.0833,55.4167L 22.1667,55.4167L 22.1667,50.6667L 30.0833,50.6667L 30.0833,42.75 Z M 27.4442,32.1942C 29.0275,31.6667 29.9034,32.0635 30.2694,31.4088C 30.6353,30.7542 31.1527,30.0924 31.8217,29.4234C 32.4907,28.7545 33.2997,28.0712 34.2488,27.3736L 37.4392,25.281C 38.2626,24.7836 39.0173,24.1818 39.7034,23.4757C 40.3895,22.7696 40.997,22.042 41.5259,21.293C 42.0548,20.544 42.4936,19.8121 42.8424,19.0974L 43.5799,17.2707C 43.8429,16.3044 44.2117,15.5983 44.6863,15.1523C 45.1608,14.7063 45.6297,14.4833 46.0928,14.4833C 46.5388,14.4833 46.9276,14.662 47.2592,15.0194C 47.5908,15.3767 47.7738,15.8784 47.8081,16.5245L 47.8338,17.0048L 47.8338,17.4851C 47.8338,18.6629 47.7095,19.8064 47.4607,20.9156C 47.212,22.0248 46.8361,22.9082 46.3329,23.5657L 45.411,24.9208L 44.4633,26.4388L 43.3912,28.1798L 48.5628,28.7116L 50.7069,28.9431L 52.821,29.1833L 54.7249,29.4105L 56.2301,29.6035C 56.636,29.655 56.9605,29.908 57.2035,30.3625C 57.4465,30.8171 57.568,31.3302 57.568,31.902L 57.4865,32.7082L 57.1907,33.4886L 56.9248,34.0203L 56.5346,34.8137L 56.1443,35.6327L 55.9042,36.2502L 55.7455,36.9964L 55.5826,38.0813L 55.4196,39.2091L 55.261,40.0238L 54.8193,41.1645L 54.2318,42.0779L 53.6272,42.854L 53.1426,43.5916L 52.7695,44.6079L 52.5165,45.4655L 52.2335,46.2546L 51.8047,47.0479L 51.5131,47.451L 50.5826,48.7503L 49.6048,49.8738C 49.2646,50.2026 48.8987,50.4656 48.5071,50.6628C 48.1154,50.8601 47.6766,50.9587 47.1906,50.9587L 46.4702,50.9587L 44.3333,50.9587L 44.3333,49.0833L 36.4167,49.0833L 36.4167,41.1667L 28.5,41.1667L 28.5,49.0833L 26.9616,49.0833L 27.4442,32.1942 Z M 19,50.9587L 19,32.1942L 25.4323,32.164L 25.4323,49.0833L 20.5833,49.0833L 20.5833,50.9587L 19,50.9587 Z "/>
                    </Button>
                </StackPanel>
            </Grid>
        </StackPanel>

        <Grid x:Name="ShareContainer" Grid.Row="1" Height="124" Width="480" Background="{StaticResource ThemeBrushGray}" VerticalAlignment="Bottom" RenderTransformOrigin="0.5,0.5" Margin="0,0,0,72">
        	<Grid.RenderTransform>
        		<CompositeTransform TranslateY="600"/>
        	</Grid.RenderTransform>
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" >
                <HyperlinkButton Style="{StaticResource EmptyButtonStyle}" Command="{Binding ShareLinkCommand}" Tap="HideBarsTapHandler">
                    <toolkit:HubTile x:Name="hubTile" Size="Small" Background="{StaticResource ThemeBrushRed}" Source="/Assets/sharelink.png" RenderTransformOrigin="0.5,0.5" Margin="6">
                	    <toolkit:HubTile.RenderTransform>
                		    <CompositeTransform/>
                	    </toolkit:HubTile.RenderTransform>
                    </toolkit:HubTile>
                </HyperlinkButton>
                <HyperlinkButton Style="{StaticResource EmptyButtonStyle}" Command="{Binding ShareContentCommand}" Tap="HideBarsTapHandler">
                    <toolkit:HubTile x:Name="hubTile1" Size="Small" Background="{StaticResource ThemeBrushRed}" Source="/Assets/sharecontent.png" RenderTransformOrigin="0.5,0.5" Margin="6">
                        <toolkit:HubTile.RenderTransform>
                            <CompositeTransform/>
                        </toolkit:HubTile.RenderTransform>
                    </toolkit:HubTile>
                </HyperlinkButton>
                <HyperlinkButton Style="{StaticResource EmptyButtonStyle}" Command="{Binding ShareWhatsAppCommand}" Tap="HideBarsTapHandler">
                    <toolkit:HubTile x:Name="hubTile2" Size="Small" Background="{StaticResource ThemeBrushRed}" Source="/Assets/sharewa.png" RenderTransformOrigin="0.5,0.5" Margin="6">
                        <toolkit:HubTile.RenderTransform>
                            <CompositeTransform/>
                        </toolkit:HubTile.RenderTransform>
                    </toolkit:HubTile>
                </HyperlinkButton>
                <HyperlinkButton Style="{StaticResource EmptyButtonStyle}" Command="{Binding ShareClipboardCommand}" Tap="HideBarsTapHandler">
                    <toolkit:HubTile x:Name="hubTile3" Size="Small" Background="{StaticResource ThemeBrushRed}" Source="/Assets/shareclip.png" RenderTransformOrigin="0.5,0.5" Margin="6">
                        <toolkit:HubTile.RenderTransform>
                            <CompositeTransform/>
                        </toolkit:HubTile.RenderTransform>
                    </toolkit:HubTile>
                </HyperlinkButton>
            </StackPanel>
        </Grid>

        <Grid x:Name="JumpContainer" Grid.Row="1" Height="92" Width="480" Background="{StaticResource ThemeBrushGray}" VerticalAlignment="Bottom" RenderTransformOrigin="0.5,0.5" Margin="0,0,0,72">
            <Grid.RenderTransform>
                <CompositeTransform TranslateY="600"/>
            </Grid.RenderTransform>
            <StackPanel Orientation="Horizontal" Margin="16,0,16,0" VerticalAlignment="Center">
                <toolkit:PhoneTextBox x:Name="phoneTextBox" Hint="{Binding Path=LocalizedResources.PageNumberHint, Source={StaticResource LocalizedStrings}}" InputScope="Number" Text="{Binding JumpPageNumber, Mode=TwoWay}" Width="386" Style="{StaticResource CustomPhoneTextBoxStyle}" RenderTransformOrigin="0.5,0.5" LostFocus="JumpToLostFocus" >
                    <toolkit:PhoneTextBox.RenderTransform>
                        <CompositeTransform/>
                    </toolkit:PhoneTextBox.RenderTransform>
                </toolkit:PhoneTextBox>
                <Button x:Name="button" Command="{Binding JumpToCommand}" Template="{StaticResource RoundButtonTemplate}" Background="{StaticResource ThemeBrushRed}" Width="72" Height="72" Margin="-8" RenderTransformOrigin="0.5,0.5" Tap="JumpToTapped">
                    <Button.RenderTransform>
                        <CompositeTransform/>
                    </Button.RenderTransform>
                    <Path Width="39" Height="28" Stretch="Fill" Fill="{StaticResource ThemeBrushGray}" Data="F1 M 19.0002,34L 19.0002,42L 43.7502,42L 33.7502,52L 44.2502,52L 58.2502,38L 44.2502,24L 33.7502,24L 43.7502,34L 19.0002,34 Z "/>
                </Button>
            </StackPanel>
        </Grid>

        <ProgressBar IsIndeterminate="true" Foreground="{StaticResource ThemeBrushGray}" DataContext="{Binding ElementName=RootElement, Path=DataContext}" Visibility="{Binding IsBusy, Converter={StaticResource BoolToVisibilityConverter}}"
                     VerticalAlignment="Top"/>
    </Grid>

    <phone:PhoneApplicationPage.ApplicationBar>
        <shell:ApplicationBar ForegroundColor="{StaticResource ThemeColorGray}" BackgroundColor="{StaticResource ThemeColorGrayDark}" StateChanged="AppBarStateChanged"
                              Opacity="0.99">
            <shell:ApplicationBar.MenuItems>
                <shell:ApplicationBarMenuItem Text="id_refresh"/>
                <shell:ApplicationBarMenuItem Text="id_share" Click="ShareClicked"/>
                <shell:ApplicationBarMenuItem Text="id_jump" Click="JumpToClicked"/>
                <shell:ApplicationBarMenuItem Text="id_browser"/>
            </shell:ApplicationBar.MenuItems>
            <shell:ApplicationBarIconButton IconUri="/Assets/AppBar/back.png" Text="id_prev"  Click="ScrollUpHander"/>
            <!--<shell:ApplicationBarIconButton IconUri="/Assets/AppBar/minus.png" Text="id_neg"/>
            <shell:ApplicationBarIconButton IconUri="/Assets/AppBar/new.png" Text="id_pos"/>-->
            <shell:ApplicationBarIconButton IconUri="/Assets/AppBar/favs.addto.png" Text="id_fav"/>
            <shell:ApplicationBarIconButton IconUri="/Assets/AppBar/next.png" Text="id_next" Click="ScrollUpHander"/>
        </shell:ApplicationBar>
    </phone:PhoneApplicationPage.ApplicationBar>

    <i:Interaction.Behaviors>
        <abu:AppBarItemCommand Type="Button" Id="id_prev" Text="zurück" Command="{Binding PreviousCommand}"/>
        <abu:AppBarToggleItemCommand Id="id_fav"
                               IsChecked="{Binding IsCurrentBashFavorite}"
                               Text="{Binding Path=LocalizedResources.AppBarAddFav, Source={StaticResource LocalizedStrings}}"
                               CheckedText="{Binding Path=LocalizedResources.AppBarRemoveFav, Source={StaticResource LocalizedStrings}}"
                               IconUri="/Assets/AppBar/appbar.heart.outline.png"
                               CheckedIconUri="/Assets/AppBar/appbar.heart.png"
                               Command="{Binding AddToFavoritesCommand}"
                               CheckedCommand="{Binding RemoveFromFavoritesCommand}" />
        <abu:AppBarItemCommand Type="Button" Id="id_next" Text="weiter" Command="{Binding NextCommand}"/>
        <!--<abu:AppBarItemCommand Type="Button" Id="id_neg" Text="langweilig" Command="{Binding RateNegativeCommand}"/>
        <abu:AppBarItemCommand Type="Button" Id="id_pos" Text="gefällt mir" Command="{Binding RatePositiveCommand}"/>-->
        <abu:AppBarItemCommand Type="MenuItem" Id="id_refresh" Text="{Binding Path=LocalizedResources.AppBarRefresh, Source={StaticResource LocalizedStrings}}" Command="{Binding RefreshCommand}" />
        <abu:AppBarItemCommand Type="MenuItem" Id="id_jump" Text="{Binding Path=LocalizedResources.AppBarJumpTo, Source={StaticResource LocalizedStrings}}" Command="{Binding PlaceholderCommand}" />
        <abu:AppBarItemCommand Type="MenuItem" Id="id_share" Text="{Binding Path=LocalizedResources.AppBarShare, Source={StaticResource LocalizedStrings}}" Command="{Binding PlaceholderCommand}" />
        <abu:AppBarItemCommand Type="MenuItem" Id="id_browser" Text="{Binding Path=LocalizedResources.AppBarOpenInBrowser, Source={StaticResource LocalizedStrings}}" Command="{Binding OpenInBrowserCommand}" />
    </i:Interaction.Behaviors>

    <!--<i:Interaction.Triggers>
        <abu:AppBarItemTrigger Type="Button" Id="sync" Text="{Binding SyncButtonDisplayText}" IsEnabled="{Binding HasData}">
            <ec:CallMethodAction MethodName="Sync" TargetObject="{Binding}"/>
        </abu:AppBarItemTrigger>
    </i:Interaction.Triggers>-->

</phone:PhoneApplicationPage>